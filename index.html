
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>ECODRR debug</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

https://unpkg.com/leaflet/dist/leaflet.css
https://unpkg.com/leaflet/dist/leaflet.js

<style>
  #map { height: 100vh; }
  .debug-box {
    position: absolute;
    top: 10px; left: 10px;
    z-index: 9999;
    background: white;
    padding: 10px;
    border-radius: 5px;
  }
</style>
</head>

<body>

<div id="map"></div>

<script>
// --------------------------------
// 地図初期化
// --------------------------------
const map = L.map('map').setView([36.055, 139.067], 13);

const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19
}).addTo(map);

// --------------------------------
// タイルレイヤ（デバッグ用）
// --------------------------------

function loadTileLayer(name, url) {
  console.log("Loading:", name, url);  // デバッグ
  return L.tileLayer(url, {
    opacity: 0.8,
    errorTileUrl: 'https://via.placeholder.com/256x256?text=ERR'
  });
}

const twiLayer     = loadTileLayer("TWI",     './data/01_TWI_chichibu/{z}/{x}/{y}.png');
const handLayer    = loadTileLayer("HAND",    './data/02_HAND_chichibu/{z}/{x}/{y}.png');
const shizenLayer  = loadTileLayer("SHIZEN",  './data/04_SHIZEN_chichibu/{z}/{x}/{y}.png');
const suidenLayer  = loadTileLayer("SUIDEN",  './data/05_suiden_chichibu/{z}/{x}/{y}.png');

// --------------------------------
// レイヤー切り替え UI
// --------------------------------
L.control.layers(
  { "OSM": osm },
  {
    "TWI" : twiLayer,
    "HAND": handLayer,
    "自然": shizenLayer,
    "水田": suidenLayer
  },
  { collapsed: false }
).addTo(map);

</script>
</body>
</html>
